{"ast":null,"code":"import _regeneratorRuntime from\"/Users/hawkeyeshi/Desktop/-COMP 426/a99-lastminute/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _slicedToArray from\"/Users/hawkeyeshi/Desktop/-COMP 426/a99-lastminute/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _asyncToGenerator from\"/Users/hawkeyeshi/Desktop/-COMP 426/a99-lastminute/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React,{useState}from\"react\";import\"./CreateAccount.css\";import pizzaimage1 from\"../../Assets/pizzaimage1.jpeg\";import pizzaimage2 from\"../../Assets/pizzaimage2.jpeg\";function attemptCreateAcount(_x,_x2){return _attemptCreateAcount.apply(this,arguments);}function _attemptCreateAcount(){_attemptCreateAcount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(username,password){var requestOptions;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:// Actually try to make account\nrequestOptions={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({username:username,password:password})};return _context2.abrupt(\"return\",fetch(\"/app/users/create\",requestOptions).then(function(res){return res.json();}));case 2:case\"end\":return _context2.stop();}}},_callee2);}));return _attemptCreateAcount.apply(this,arguments);}export default function CreateAccount(_ref){var setUsernameToken=_ref.setUsernameToken;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),passwordAgain=_useState6[0],setPasswordAgain=_useState6[1];var handleCreateAccount=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var json;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();// check password equality\nif(!(password!==passwordAgain)){_context.next=4;break;}alert(\"Passwords do not match\");return _context.abrupt(\"return\");case 4:_context.next=6;return attemptCreateAcount(username,password);case 6:json=_context.sent;if(json.result===\"success\"){alert(json.message);setUsernameToken(username);}else{alert(json.message);}case 8:case\"end\":return _context.stop();}}},_callee);}));return function handleCreateAccount(_x3){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"div\",{className:\"full\"},/*#__PURE__*/React.createElement(\"img\",{className:\"border_image\",src:pizzaimage1,alt:\"\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"header\"},/*#__PURE__*/React.createElement(\"p\",{className:\"title\"},\"Create your Account\")),/*#__PURE__*/React.createElement(\"div\",{className:\"forms\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"form\",{className:\"create_form\"},/*#__PURE__*/React.createElement(\"label\",{className:\"label\"},\"username:\",/*#__PURE__*/React.createElement(\"input\",{className:\"input_box\",type:\"text\",name:\"username\",onChange:function onChange(e){return setUsername(e.target.value);}})))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"form\",{className:\"create_form\"},/*#__PURE__*/React.createElement(\"label\",{className:\"label\"},\"password:\",/*#__PURE__*/React.createElement(\"input\",{className:\"input_box\",type:\"text\",name:\"password\",onChange:function onChange(e){return setPassword(e.target.value);}})),/*#__PURE__*/React.createElement(\"p\",{className:\"pass_recs\"}))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"form\",{className:\"create_form\"},/*#__PURE__*/React.createElement(\"label\",{className:\"label\"},\"Re-enter password:\",/*#__PURE__*/React.createElement(\"input\",{className:\"input_box\",type:\"text\",name:\"password_again\",onChange:function onChange(e){return setPasswordAgain(e.target.value);}}))))),/*#__PURE__*/React.createElement(\"button\",{className:\"button1\",href:\"#\",onClick:handleCreateAccount},\"Submit\"),/*#__PURE__*/React.createElement(\"img\",{className:\"border_image2\",src:pizzaimage2,alt:\"\"})));}","map":{"version":3,"sources":["/Users/hawkeyeshi/Desktop/-COMP 426/a99-lastminute/frontend/src/components/Login/CreateAccount.js"],"names":["React","useState","pizzaimage1","pizzaimage2","attemptCreateAcount","username","password","requestOptions","method","headers","body","JSON","stringify","fetch","then","res","json","CreateAccount","setUsernameToken","setUsername","setPassword","passwordAgain","setPasswordAgain","handleCreateAccount","event","preventDefault","alert","result","message","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport \"./CreateAccount.css\";\n\nimport pizzaimage1 from \"../../Assets/pizzaimage1.jpeg\";\nimport pizzaimage2 from \"../../Assets/pizzaimage2.jpeg\";\n\nasync function attemptCreateAcount(username, password) {\n  // Actually try to make account\n  const requestOptions = {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      username: username,\n      password: password,\n    }),\n  };\n\n  return fetch(\"/app/users/create\", requestOptions)\n    .then((res) => res.json());\n}\n\nexport default function CreateAccount({ setUsernameToken }) {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [passwordAgain, setPasswordAgain] = useState(\"\");\n\n  const handleCreateAccount = async (event) => {\n    event.preventDefault()\n\n    // check password equality\n    if (password !== passwordAgain) {\n      alert(\"Passwords do not match\");\n      return;\n    }\n\n    const json = await attemptCreateAcount(username, password)\n\n    if (json.result === \"success\") {\n      alert(json.message);\n      setUsernameToken(username)\n    } else {\n      alert(json.message);\n    }\n  };\n\n  return (\n    <div className=\"full\">\n      <img className=\"border_image\" src={pizzaimage1} alt=\"\" />\n      <div className=\"container\">\n        <h1 className=\"header\">\n          <p className=\"title\">Create your Account</p>\n        </h1>\n\n        <div className=\"forms\">\n          <div>\n            <form className=\"create_form\">\n              <label className=\"label\">\n                username:\n                <input\n                  className=\"input_box\"\n                  type=\"text\"\n                  name=\"username\"\n                  onChange={e => setUsername(e.target.value)}\n                />\n              </label>\n            </form>\n          </div>\n\n          <div>\n            <form className=\"create_form\">\n              <label className=\"label\">\n                password:\n                <input\n                  className=\"input_box\"\n                  type=\"text\"\n                  name=\"password\"\n                  onChange={e => setPassword(e.target.value)}\n                />\n              </label>\n              <p className=\"pass_recs\">\n    \n              </p>\n            </form>\n          </div>\n\n          <div>\n            <form className=\"create_form\">\n              <label className=\"label\">\n                Re-enter password:\n                <input\n                  className=\"input_box\"\n                  type=\"text\"\n                  name=\"password_again\"\n                  onChange={e => setPasswordAgain(e.target.value)}\n                />\n              </label>\n            </form>\n          </div>\n        </div>\n        <button className=\"button1\" href=\"#\" onClick={handleCreateAccount}>\n          Submit\n        </button>\n\n        <img className=\"border_image2\" src={pizzaimage2} alt=\"\" />\n      </div>\n    </div>\n  );\n}"]},"metadata":{},"sourceType":"module"}