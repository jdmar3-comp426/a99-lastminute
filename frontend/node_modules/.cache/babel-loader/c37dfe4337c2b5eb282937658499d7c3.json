{"ast":null,"code":"import _regeneratorRuntime from\"/Users/hawkeyeshi/Desktop/-COMP 426/a99-lastminute/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _slicedToArray from\"/Users/hawkeyeshi/Desktop/-COMP 426/a99-lastminute/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _asyncToGenerator from\"/Users/hawkeyeshi/Desktop/-COMP 426/a99-lastminute/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React,{useState}from\"react\";import md5 from\"md5\";import pizzalogo from\"../../Assets/pizzalogo2.jpeg\";import pizzastore from\"../../Assets/pizzastore.jpeg\";import\"./Login.css\";function attemptLoginUser(_x,_x2){return _attemptLoginUser.apply(this,arguments);}function _attemptLoginUser(){_attemptLoginUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(username,password){var requestOptions;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:requestOptions={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({username:username,password:md5(password)})};return _context2.abrupt(\"return\",fetch(\"/app/users/login\",requestOptions).then(function(response){return response.json();}));case 2:case\"end\":return _context2.stop();}}},_callee2);}));return _attemptLoginUser.apply(this,arguments);}export default function Login(_ref){var setUsernameToken=_ref.setUsernameToken,handleToggleCreateAccount=_ref.handleToggleCreateAccount;var _useState=useState(),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var json;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();console.log(username,password);_context.next=4;return attemptLoginUser(username,password);case 4:json=_context.sent;if(json.result===\"success\"){setUsernameToken(username);}else{alert(json.message);}case 6:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x3){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"div\",{className:\"Login\"},/*#__PURE__*/React.createElement(\"header\",{className:\"Login-header\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Welcome to Pizza Press (S\\xF4st)\",\" \",/*#__PURE__*/React.createElement(\"img\",{className:\"photo\",src:pizzalogo,alt:\"logo\"}))),/*#__PURE__*/React.createElement(\"form\",{className:\"form\",onSubmit:handleSubmit},/*#__PURE__*/React.createElement(\"label\",{className:\"label\"},\"username:\",/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"name\",onChange:function onChange(e){return setUsername(e.target.value);}})),/*#__PURE__*/React.createElement(\"label\",{className:\"label\"},\"password:\",/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"password\",onChange:function onChange(e){return setPassword(e.target.value);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"login\"},/*#__PURE__*/React.createElement(\"button\",{className:\"loginbut\",type:\"submit\"},\"Login\")),/*#__PURE__*/React.createElement(\"p\",{className:\"create\"},\"Don't have an account yet?\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"button\",{className:\"create\",onClick:handleToggleCreateAccount},\"Create an Account\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"background\"},/*#__PURE__*/React.createElement(\"img\",{className:\"background-photo\",src:pizzastore,alt:\"logo\"})));}","map":{"version":3,"sources":["/Users/hawkeyeshi/Desktop/-COMP 426/a99-lastminute/frontend/src/components/Login/Login.js"],"names":["React","useState","md5","pizzalogo","pizzastore","attemptLoginUser","username","password","requestOptions","method","headers","body","JSON","stringify","fetch","then","response","json","Login","setUsernameToken","handleToggleCreateAccount","setUsername","setPassword","handleSubmit","event","preventDefault","console","log","result","alert","message","e","target","value"],"mappings":"mhBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,GAAP,KAAgB,KAAhB,CAGA,MAAOC,CAAAA,SAAP,KAAsB,8BAAtB,CACA,MAAOC,CAAAA,UAAP,KAAuB,8BAAvB,CACA,MAAO,aAAP,C,QAEeC,CAAAA,gB,gKAAf,kBAAgCC,QAAhC,CAA0CC,QAA1C,yIACQC,cADR,CACyB,CACrBC,MAAM,CAAE,MADa,CAErBC,OAAO,CAAE,CACP,eAAgB,kBADT,CAFY,CAKrBC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnBP,QAAQ,CAAEA,QADS,CAEnBC,QAAQ,CAAEL,GAAG,CAACK,QAAD,CAFM,CAAf,CALe,CADzB,kCAYSO,KAAK,CAAC,kBAAD,CAAqBN,cAArB,CAAL,CAA0CO,IAA1C,CAA+C,SAACC,QAAD,QACpDA,CAAAA,QAAQ,CAACC,IAAT,EADoD,EAA/C,CAZT,0D,mDAiBA,cAAe,SAASC,CAAAA,KAAT,MAAgE,IAA/CC,CAAAA,gBAA+C,MAA/CA,gBAA+C,CAA7BC,yBAA6B,MAA7BA,yBAA6B,CAC7E,cAAgCnB,QAAQ,EAAxC,wCAAOK,QAAP,eAAiBe,WAAjB,eACA,eAAgCpB,QAAQ,EAAxC,yCAAOM,QAAP,eAAiBe,WAAjB,eAEA,GAAMC,CAAAA,YAAY,2FAAG,iBAAOC,KAAP,2HACnBA,KAAK,CAACC,cAAN,GACAC,OAAO,CAACC,GAAR,CAAYrB,QAAZ,CAAsBC,QAAtB,EAFmB,sBAIAF,CAAAA,gBAAgB,CAACC,QAAD,CAAWC,QAAX,CAJhB,QAIbU,IAJa,eAMnB,GAAIA,IAAI,CAACW,MAAL,GAAgB,SAApB,CAA+B,CAC7BT,gBAAgB,CAACb,QAAD,CAAhB,CACD,CAFD,IAEO,CACLuB,KAAK,CAACZ,IAAI,CAACa,OAAN,CAAL,CACD,CAVkB,sDAAH,kBAAZP,CAAAA,YAAY,8CAAlB,CAaA,mBACE,2BAAK,SAAS,CAAC,OAAf,eACE,8BAAQ,SAAS,CAAC,cAAlB,eACE,iEACgC,GADhC,cAEE,2BAAK,SAAS,CAAC,OAAf,CAAuB,GAAG,CAAEpB,SAA5B,CAAuC,GAAG,CAAC,MAA3C,EAFF,CADF,CADF,cAQE,4BAAM,SAAS,CAAC,MAAhB,CAAuB,QAAQ,CAAEoB,YAAjC,eACE,6BAAO,SAAS,CAAC,OAAjB,2BAEE,6BACE,IAAI,CAAC,MADP,CAEE,IAAI,CAAC,MAFP,CAGE,QAAQ,CAAE,kBAACQ,CAAD,QAAOV,CAAAA,WAAW,CAACU,CAAC,CAACC,MAAF,CAASC,KAAV,CAAlB,EAHZ,EAFF,CADF,cAUE,6BAAO,SAAS,CAAC,OAAjB,2BAEE,6BACE,IAAI,CAAC,MADP,CAEE,IAAI,CAAC,UAFP,CAGE,QAAQ,CAAE,kBAACF,CAAD,QAAOT,CAAAA,WAAW,CAACS,CAAC,CAACC,MAAF,CAASC,KAAV,CAAlB,EAHZ,EAFF,CAVF,cAmBE,2BAAK,SAAS,CAAC,OAAf,eACE,8BAAQ,SAAS,CAAC,UAAlB,CAA6B,IAAI,CAAC,QAAlC,UADF,CAnBF,cAyBE,yBAAG,SAAS,CAAC,QAAb,+BAzBF,cA2BE,4CACE,8BAAQ,SAAS,CAAC,QAAlB,CAA2B,OAAO,CAAEb,yBAApC,sBADF,CA3BF,CARF,cAwCE,2BAAK,SAAS,CAAC,YAAf,eACE,2BAAK,SAAS,CAAC,kBAAf,CAAkC,GAAG,CAAEhB,UAAvC,CAAmD,GAAG,CAAC,MAAvD,EADF,CAxCF,CADF,CA8CD","sourcesContent":["import React, { useState } from \"react\";\nimport md5 from \"md5\";\nimport PropType from \"prop-types\";\n\nimport pizzalogo from \"../../Assets/pizzalogo2.jpeg\";\nimport pizzastore from \"../../Assets/pizzastore.jpeg\";\nimport \"./Login.css\";\n\nasync function attemptLoginUser(username, password) {\n  const requestOptions = {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      username: username,\n      password: md5(password),\n    }),\n  };\n\n  return fetch(\"/app/users/login\", requestOptions).then((response) =>\n    response.json()\n  );\n}\n\nexport default function Login({ setUsernameToken, handleToggleCreateAccount }) {\n  const [username, setUsername] = useState();\n  const [password, setPassword] = useState();\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    console.log(username, password);\n\n    const json = await attemptLoginUser(username, password);\n\n    if (json.result === \"success\") {\n      setUsernameToken(username);\n    } else {\n      alert(json.message);\n    }\n  };\n\n  return (\n    <div className=\"Login\">\n      <header className=\"Login-header\">\n        <h1>\n          Welcome to Pizza Press (SÃ´st){\" \"}\n          <img className=\"photo\" src={pizzalogo} alt=\"logo\" />\n        </h1>\n      </header>\n\n      <form className=\"form\" onSubmit={handleSubmit}>\n        <label className=\"label\">\n          username:\n          <input\n            type=\"text\"\n            name=\"name\"\n            onChange={(e) => setUsername(e.target.value)}\n          />\n        </label>\n\n        <label className=\"label\">\n          password:\n          <input\n            type=\"text\"\n            name=\"password\"\n            onChange={(e) => setPassword(e.target.value)}\n          />\n        </label>\n\n        <div className=\"login\">\n          <button className=\"loginbut\" type=\"submit\">\n            Login\n          </button>\n        </div>\n\n        <p className=\"create\">Don't have an account yet?</p>\n\n        <div>\n          <button className=\"create\" onClick={handleToggleCreateAccount}>Create an Account</button>\n        </div>\n      </form>\n\n      <div className=\"background\">\n        <img className=\"background-photo\" src={pizzastore} alt=\"logo\" />\n      </div>\n    </div>\n  );\n}\n\nLogin.propTypes = {\n  setUsernameToken: PropType.func.isRequired,\n  handleToggleCreateAccount: PropType.func.isRequired,\n};\n"]},"metadata":{},"sourceType":"module"}